{"ast":null,"code":"import { getTopTracks } from '@/lib/spotify';\nexport default (async (_, res) => {\n  const response = await getTopTracks();\n  const {\n    items\n  } = await response.json();\n  const tracks = items.slice(0, 10).map(track => ({\n    artist: track.artists.map(_artist => _artist.name).join(', '),\n    songUrl: track.external_urls.spotify,\n    title: track.name\n  }));\n  res.setHeader('Cache-Control', 'public, s-maxage=86400, stale-while-revalidate=43200');\n  return res.status(200).json({\n    tracks\n  });\n});","map":{"version":3,"sources":["/Users/toshi/Desktop/v-test/pages/api/top-tracks.js"],"names":["getTopTracks","_","res","response","items","json","tracks","slice","map","track","artist","artists","_artist","name","join","songUrl","external_urls","spotify","title","setHeader","status"],"mappings":"AAAA,SAASA,YAAT,QAA6B,eAA7B;AAEA,gBAAe,OAAOC,CAAP,EAAUC,GAAV,KAAkB;AAC/B,QAAMC,QAAQ,GAAG,MAAMH,YAAY,EAAnC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAY,MAAMD,QAAQ,CAACE,IAAT,EAAxB;AAEA,QAAMC,MAAM,GAAGF,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAe,EAAf,EAAmBC,GAAnB,CAAwBC,KAAD,KAAY;AAChDC,IAAAA,MAAM,EAAED,KAAK,CAACE,OAAN,CAAcH,GAAd,CAAmBI,OAAD,IAAaA,OAAO,CAACC,IAAvC,EAA6CC,IAA7C,CAAkD,IAAlD,CADwC;AAEhDC,IAAAA,OAAO,EAAEN,KAAK,CAACO,aAAN,CAAoBC,OAFmB;AAGhDC,IAAAA,KAAK,EAAET,KAAK,CAACI;AAHmC,GAAZ,CAAvB,CAAf;AAMAX,EAAAA,GAAG,CAACiB,SAAJ,CACE,eADF,EAEE,sDAFF;AAKA,SAAOjB,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBf,IAAhB,CAAqB;AAAEC,IAAAA;AAAF,GAArB,CAAP;AACD,CAhBD","sourcesContent":["import { getTopTracks } from '@/lib/spotify';\n\nexport default async (_, res) => {\n  const response = await getTopTracks();\n  const { items } = await response.json();\n\n  const tracks = items.slice(0, 10).map((track) => ({\n    artist: track.artists.map((_artist) => _artist.name).join(', '),\n    songUrl: track.external_urls.spotify,\n    title: track.name\n  }));\n\n  res.setHeader(\n    'Cache-Control',\n    'public, s-maxage=86400, stale-while-revalidate=43200'\n  );\n\n  return res.status(200).json({ tracks });\n};\n"]},"metadata":{},"sourceType":"module"}