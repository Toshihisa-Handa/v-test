{"ast":null,"code":"import Big from 'big.js';\n\nconst getProductSales = async id => {\n  const response = await fetch(`https://api.gumroad.com/v2/products/${id}`, {\n    headers: {\n      Authorization: `Bearer ${process.env.GUMROAD_API_KEY}`,\n      'Content-Type': 'application/json'\n    },\n    method: 'GET'\n  });\n  const {\n    product\n  } = await response.json();\n  return new Big(product.sales_usd_cents).div(100);\n};\n\nexport default (async (_, res) => {\n  const masteringNextSales = await getProductSales('sDpG');\n  const react2025Sales = await getProductSales('TifxZ');\n  res.setHeader('Cache-Control', 'public, s-maxage=1200, stale-while-revalidate=600');\n  return res.status(200).json({\n    sales: masteringNextSales.plus(react2025Sales).toFixed(0)\n  });\n});","map":{"version":3,"sources":["/Users/toshi/Desktop/v-test/pages/api/gumroad.js"],"names":["Big","getProductSales","id","response","fetch","headers","Authorization","process","env","GUMROAD_API_KEY","method","product","json","sales_usd_cents","div","_","res","masteringNextSales","react2025Sales","setHeader","status","sales","plus","toFixed"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,QAAhB;;AAEA,MAAMC,eAAe,GAAG,MAAOC,EAAP,IAAc;AACpC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,uCAAsCF,EAAG,EAA3C,EAA8C;AACxEG,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASC,OAAO,CAACC,GAAR,CAAYC,eAAgB,EAD9C;AAEP,sBAAgB;AAFT,KAD+D;AAKxEC,IAAAA,MAAM,EAAE;AALgE,GAA9C,CAA5B;AAQA,QAAM;AAAEC,IAAAA;AAAF,MAAc,MAAMR,QAAQ,CAACS,IAAT,EAA1B;AAEA,SAAO,IAAIZ,GAAJ,CAAQW,OAAO,CAACE,eAAhB,EAAiCC,GAAjC,CAAqC,GAArC,CAAP;AACD,CAZD;;AAcA,gBAAe,OAAOC,CAAP,EAAUC,GAAV,KAAkB;AAC/B,QAAMC,kBAAkB,GAAG,MAAMhB,eAAe,CAAC,MAAD,CAAhD;AACA,QAAMiB,cAAc,GAAG,MAAMjB,eAAe,CAAC,OAAD,CAA5C;AAEAe,EAAAA,GAAG,CAACG,SAAJ,CACE,eADF,EAEE,mDAFF;AAKA,SAAOH,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB;AAC1BS,IAAAA,KAAK,EAAEJ,kBAAkB,CAACK,IAAnB,CAAwBJ,cAAxB,EAAwCK,OAAxC,CAAgD,CAAhD;AADmB,GAArB,CAAP;AAGD,CAZD","sourcesContent":["import Big from 'big.js';\n\nconst getProductSales = async (id) => {\n  const response = await fetch(`https://api.gumroad.com/v2/products/${id}`, {\n    headers: {\n      Authorization: `Bearer ${process.env.GUMROAD_API_KEY}`,\n      'Content-Type': 'application/json'\n    },\n    method: 'GET'\n  });\n\n  const { product } = await response.json();\n\n  return new Big(product.sales_usd_cents).div(100);\n};\n\nexport default async (_, res) => {\n  const masteringNextSales = await getProductSales('sDpG');\n  const react2025Sales = await getProductSales('TifxZ');\n\n  res.setHeader(\n    'Cache-Control',\n    'public, s-maxage=1200, stale-while-revalidate=600'\n  );\n\n  return res.status(200).json({\n    sales: masteringNextSales.plus(react2025Sales).toFixed(0)\n  });\n};\n"]},"metadata":{},"sourceType":"module"}